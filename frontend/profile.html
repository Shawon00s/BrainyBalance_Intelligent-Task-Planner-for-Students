<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Settings - BrainyBalance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#6366f1',
                        'primary-dark': '#5856eb',
                        'accent': '#fbbf24',
                        'accent-dark': '#f59e0b',
                        'dark-bg': '#0a0a0b',
                        'dark-card': '#1a1a1b',
                        'dark-border': '#2d2d30',
                    },
                    backgroundImage: {
                        'gradient-primary': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                        'gradient-secondary': 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                        'gradient-accent': 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                        'gradient-dark': 'linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%)',
                        'gradient-card': 'linear-gradient(135deg, #1e1e1f 0%, #2a2a2b 100%)',
                    }
                }
            }
        }
    </script>
</head>

<body class="font-inter bg-dark-bg text-gray-100">
    <!-- Navigation -->
    <nav class="bg-gradient-to-r from-gray-900/95 to-black/95 backdrop-blur-md border-b border-dark-border">
        <div class="max-w-7xl mx-auto px-4 lg:px-6">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-8">
                    <div
                        class="flex items-center space-x-2 text-xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">
                        <i
                            class="fas fa-graduation-cap text-2xl bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent"></i>
                        <span>BrainyBalance</span>
                    </div>
                    <div class="hidden md:flex space-x-6">
                        <a href="dashboard.html"
                            class="text-gray-400 hover:text-white px-4 py-2 rounded-lg text-sm">Dashboard</a>
                        <a href="tasks.html"
                            class="text-gray-400 hover:text-white px-4 py-2 rounded-lg text-sm">Tasks</a>
                        <a href="schedule.html"
                            class="text-gray-400 hover:text-white px-4 py-2 rounded-lg text-sm">Schedule</a>
                        <a href="analytics.html"
                            class="text-gray-400 hover:text-white px-4 py-2 rounded-lg text-sm">Analytics</a>
                        <a href="pomodoro.html"
                            class="text-gray-400 hover:text-white px-4 py-2 rounded-lg text-sm">Pomodoro</a>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <div class="relative group">
                        <button class="flex items-center space-x-2 text-gray-300 hover:text-white">
                            <img src="https://via.placeholder.com/32x32/6366f1/ffffff?text=JS" alt="Profile"
                                class="w-8 h-8 rounded-full">
                            <span class="hidden md:block user-name">John Student</span>
                            <i class="fas fa-chevron-down text-sm"></i>
                        </button>
                        <div
                            class="absolute right-0 top-full mt-2 w-48 bg-dark-card border border-dark-border rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50">
                            <a href="profile.html"
                                class="block px-4 py-2 text-gray-300 hover:bg-gray-800 hover:text-white bg-gray-800">Profile
                                Settings</a>
                            <a href="#"
                                class="block px-4 py-2 text-gray-300 hover:bg-gray-800 hover:text-white">Preferences</a>
                            <hr class="border-dark-border">
                            <a href="#" onclick="logout(); return false;"
                                class="block px-4 py-2 text-red-400 hover:bg-gray-800 logout-btn">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 lg:px-6 py-8">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex items-center mb-4">
                <a href="dashboard.html" class="text-gray-400 hover:text-white mr-4">
                    <i class="fas fa-arrow-left"></i> Back to Dashboard
                </a>
            </div>
            <h1 class="text-3xl font-bold mb-2">Profile Settings</h1>
            <p class="text-gray-400">Manage your account settings and preferences</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Profile Information -->
            <div class="lg:col-span-2">
                <div class="bg-gradient-card rounded-xl border border-dark-border p-6 mb-6">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-user text-indigo-400 mr-2"></i>
                        Personal Information
                    </h2>

                    <form id="profileForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">First Name</label>
                                <input type="text" id="firstName" name="firstName" value="John"
                                    class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Last Name</label>
                                <input type="text" id="lastName" name="lastName" value="Student"
                                    class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Email Address</label>
                            <input type="email" id="email" name="email" value=""
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">University/Institution</label>
                            <input type="text" id="university" name="university" placeholder="Your University Name"
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Major/Field of Study</label>
                                <input type="text" id="major" name="major" placeholder="Computer Science"
                                    class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Year of Study</label>
                                <select id="yearOfStudy" name="yearOfStudy"
                                    class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white">
                                    <option value="">Select Year</option>
                                    <option value="1">1st Year</option>
                                    <option value="2">2nd Year</option>
                                    <option value="3">3rd Year</option>
                                    <option value="4">4th Year</option>
                                    <option value="graduate">Graduate</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Bio</label>
                            <textarea id="bio" name="bio" rows="3" placeholder="Tell us about yourself..."
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400 resize-none"></textarea>
                        </div>

                        <div class="flex justify-end">
                            <button type="submit"
                                class="bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all">
                                <i class="fas fa-save mr-2"></i>
                                Save Changes
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Change Password -->
                <div class="bg-gradient-card rounded-xl border border-dark-border p-6">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i class="fas fa-lock text-indigo-400 mr-2"></i>
                        Change Password
                    </h2>

                    <form id="passwordForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Current Password</label>
                            <input type="password" id="currentPassword" name="currentPassword"
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">New Password</label>
                            <input type="password" id="newPassword" name="newPassword"
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Confirm New Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword"
                                class="w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-gray-400">
                        </div>

                        <div class="flex justify-end">
                            <button type="submit"
                                class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-3 rounded-lg font-medium transition-all">
                                <i class="fas fa-key mr-2"></i>
                                Update Password
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Profile Picture and Stats -->
            <div class="space-y-6">
                <!-- Profile Picture -->
                <div class="bg-gradient-card rounded-xl border border-dark-border p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fas fa-camera text-indigo-400 mr-2"></i>
                        Profile Picture
                    </h3>

                    <div class="text-center">
                        <div
                            class="w-32 h-32 mx-auto bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-3xl font-bold text-white mb-4">
                            JS
                        </div>

                        <input type="file" id="profilePicture" accept="image/*" class="hidden">
                        <button onclick="document.getElementById('profilePicture').click()"
                            class="bg-dark-bg border border-dark-border text-gray-300 hover:text-white px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-upload mr-2"></i>
                            Upload New Photo
                        </button>

                        <p class="text-xs text-gray-400 mt-2">
                            Recommended: 200x200px, JPG or PNG
                        </p>
                    </div>
                </div>

                <!-- Account Stats -->
                <div class="bg-gradient-card rounded-xl border border-dark-border p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fas fa-chart-bar text-indigo-400 mr-2"></i>
                        Account Stats
                    </h3>

                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Member Since</span>
                            <span class="text-white" id="memberSince">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Tasks Completed</span>
                            <span class="text-green-400" id="tasksCompleted">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Study Sessions</span>
                            <span class="text-blue-400" id="studySessions">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Total Study Time</span>
                            <span class="text-purple-400" id="totalStudyTime">0 hours</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-gradient-card rounded-xl border border-dark-border p-6">
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fas fa-bolt text-indigo-400 mr-2"></i>
                        Quick Actions
                    </h3>

                    <div class="space-y-2">
                        <button onclick="exportUserData()"
                            class="w-full text-left px-3 py-2 text-gray-300 hover:bg-dark-bg hover:text-white rounded-lg transition-colors">
                            <i class="fas fa-download mr-2"></i>
                            Export My Data
                        </button>
                        <button onclick="clearCache()"
                            class="w-full text-left px-3 py-2 text-gray-300 hover:bg-dark-bg hover:text-white rounded-lg transition-colors">
                            <i class="fas fa-broom mr-2"></i>
                            Clear Cache
                        </button>
                        <button onclick="deleteAccount()"
                            class="w-full text-left px-3 py-2 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-lg transition-colors">
                            <i class="fas fa-trash mr-2"></i>
                            Delete Account
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/profile.js"></script>
    <script>
        // Initialize profile page
        document.addEventListener('DOMContentLoaded', function () {
            // Check authentication
            if (!isAuthenticated()) {
                return;
            }

            displayUserInfo();
            loadUserProfile();
        });
    </script>
</body>

</html>